
<div class="modal-body">
<!-- <div class="alert alert-success" ng-show="mailSent==true" role="alert">Message has been sent!</div> -->
	<div>
		<h4 ng-show="mailSent==true">Thanks for your requirement. Our Representative call you shortly......!</h4>
	</div>
<form class="form-horizontal form-border" role="form" name="enquiryForm" ng-submit="enquiryForm.$valid" class="border" novalidate ng-hide="mailSent==true">
	
	<h3 class="text-center" ng-if="modalOptions.enquiryData.category && modalOptions.enquiryData.type ">Send Enquiry</h3>
	
	<h3 class="text-center" ng-if="!modalOptions.enquiryData.category && !modalOptions.enquiryData.type ">Post Your Requirement</h3>
	
	
	<div class="form-group">
		<label for="name" class="col-sm-2 control-label">* Name</label>
		<div class="col-sm-9">
			<input type="hidden" class="form-control" id="date" ng-model="enquiry.date" name="date">
			<input type="hidden" class="form-control" id="type" name="type" ng-model="enquiry.user_id" >
			<input type="hidden" class="form-control" id="to_email.cc" name="to_email.cc" ng-model="enquiry.to_email.cc" ng-init="enquiry.to_email.cc = modalOptions.enquiryData.to_email.cc">
			
			<input type="hidden" class="form-control" id="to_email.to" name="to_email.to" ng-model="enquiry.to_email.to" ng-init="enquiry.to_email.to = modalOptions.enquiryData.to_email.to">
			
			<input ng-if="modalOptions.enquiryData.subject" type="hidden" class="form-control" id="subject" name="subject" ng-model="enquiry.subject" ng-init="enquiry.subject = modalOptions.enquiryData.subject">
			
			<input ng-if="!modalOptions.enquiryData.subject" type="hidden" class="form-control" id="subject" name="subject" ng-model="enquiry.subject" ng-init="enquiry.subject = 'Custom Requirement: ' + requirement">
			
			<div ng-if="modalOptions.enquiryData.category">
				<input type="hidden" class="form-control" id="category" name="category" ng-model="enquiry.category" ng-init="enquiry.category = modalOptions.enquiryData.category">
				
				<input type="hidden" class="form-control" id="type" name="type" ng-model="enquiry.type" ng-init="enquiry.type = modalOptions.enquiryData.type">
				
				<input type="hidden" class="form-control" id="keywords" name="keywords" ng-model="enquiry.keywords" ng-init="enquiry.keywords = modalOptions.enquiryData.keywords">
			</div>
			<input type="text" class="form-control" id="name" ng-model="enquiry.name" name="name" placeholder="Name" ng-required="true">	
				<span class="text-danger" ng-show="enquiryForm.name.$error.required && (enquiryForm.name.$dirty || submitted)" class="help-block">Name is required.</span>
		</div>	
	</div>
	
	<div class="form-group">
	 <label for="email" class="col-sm-2 control-label">* Email</label>
			<div class="col-sm-9">
			<input type="email" class="form-control" id="email" name="email" placeholder="E-mail" ng-model="enquiry.from_email.from" required>
			<span  ng-show="enquiryForm.from.$dirty && enquiryForm.from.$invalid">
				<span class="text-danger" ng-show="enquiryForm.from.$error.required">From is required.</span>
				<span class="text-danger" ng-show="enquiryForm.from.$error.email">Invalid Email address.</span>	
			</span>
		</div>
	</div>
	
	<div class="form-group">
		<label for="phone" class="col-sm-2 control-label">* Mobile Number</label>
		<div class="col-sm-9">
			<input type="text" class="form-control help-block" id="phone" ng-model="enquiry.message.phone" name="phone" placeholder="Contact Number"  ng-pattern="/^[789]\d{9}$/" maxlength="10" required>
			<p ng-show="enquiryForm.phone.$error.pattern && (enquiryForm.phone.$dirty || submitted)" class="text-danger" >Enter a valid contact no.</p>
		</div>						
	</div>	
	<div class="form-group">
		<label for="address" class="col-sm-2 control-label">* Address</label>
		<div class="col-sm-9">
			<textarea type="text" id="address" name="address" class="form-control" placeholder="Address" rows="2" ng-model="enquiry.message.address" ng-minlength="2" cols="30" rows="4" ng-maxlength="256" required>
			</textarea>
			<p ng-hide="enquiryForm.address.$error.maxlength" ng-bind="256 - enquiry.message.address.length + ' Chars left'">
			</p>
			<span class="help-block" ng-show="enquiryForm.address.$dirty && enquiryForm.address.$invalid">
				<span class="text-danger" ng-show="enquiryForm.address.$error.maxlength">Sorry You are Exceeding the Limit</span>
				<span ng-show="enquiryForm.address.$error.required" class="text-danger">Address is required.</span>
			</span>
		</div>
	</div>
	<div class="form-group" ng-if="!modalOptions.enquiryData.subject">
		<label for="requirement" class="col-sm-2 control-label">* Requirement Title</label>
		<div class="col-sm-9">
			<input type="text" id="requirement" name="requirement" ng-change="enquiry.subject = 'Custom Requirement: ' + requirement" class="form-control" placeholder="Enter Your Requirement" rows="2" ng-model="requirement" ng-minlength="5" ng-maxlength="60" required>
			<span class="help-block" ng-show="enquiryForm.requirement.$dirty && enquiryForm.requirement.$invalid">
					<span ng-show="enquiryForm.requirement.$error.required" class="text-danger">Requirement is required.</span>
			</span>
		</div>
	</div>
	<div class="form-group">
		<label for="message" class="col-sm-2 control-label">* Message</label>
		<div class="col-sm-9">
			<textarea id="message" name="message" class="form-control" placeholder="Message" rows="2" ng-model="enquiry.message.message" ng-minlength="2" ng-maxlength="1000" required>
			</textarea>
			<p ng-hide="enquiryForm.message.$error.maxlength" ng-bind="1000 - enquiry.message.message.length + ' Chars left'">
			</p>
			<span class="help-block" ng-show="enquiryForm.message.$dirty && enquiryForm.message.$invalid">
				<span class="text-danger" ng-show="enquiryForm.message.$error.maxlength">Sorry You are Exceeding the Limit</span>
				<span ng-show="enquiryForm.message.$error.required" class="text-danger">Message is required.</span>
			</span>
		</div>
		
	</div>
	
	<div ng-if="!modalOptions.enquiryData.category && !modalOptions.enquiryData.type">
		<div class="form-group">
			<label for="category" class="col-sm-2 control-label" name="category">* Category</label>
			<div class="col-sm-9">
				<select class="form-control" name="category" id="category"  ng-model="enquiry.category" ng-change="getTypes(enquiry.category)" required ng-options="item.id as item.category_name for item in businessCategories">		
					<option value="">Select Category</option>
				</select>
				<span class="help-block" ng-show="enquiryForm.category.$dirty && enquiryForm.category.$invalid">
					<span ng-show="enquiryForm.category.$error.required" class="text-danger">Category is required.</span>
				</span>
			</div>
		</div>
		<div class="form-group">
			<label for="type" class="col-sm-2 control-label" >* Type</label>
			<div class="col-sm-9">
				<select class="form-control" name="type" id="type"  ng-model="enquiry.type" ng-change="getKeywords(enquiry.type)" required ng-options="item.id as item.category_name for item in businessTypes">
					<option value="">Select Type</option>
				</select>
				<span class="help-block" ng-show="enquiryForm.type.$dirty && enquiryForm.type.$invalid">
				<span ng-show="enquiryForm.type.$error.required" class="text-danger">Type is required.</span>
				</span>				
			</div>
		</div>	
		<div class="form-group">
			<label for="keyword" class="col-sm-2 control-label">* Keywords</label>
			<div class="col-sm-9">
				<select class="form-control" multiple name="keyword" id="keyword"  ng-model="enquiry.keywords"  ng-options="item.category_name as item.category_name for item in businessKyewords">		
					<option value="">Select Keywords</option>
				</select>
			</div>
		</div> 
	</div>

	<div class="form-group">
		<div class="col-sm-offset-2 col-sm-10 ">
			<button ng-if="modalOptions.modal" type="submit" class="btn btn-primary "  ng-disabled="enquiryForm.$pristine || enquiryForm.$invalid || mailSent" ng-click="modalOptions.formData(enquiry); modalOptions.ok()">Send Enquiry</button>
			
			<button ng-if="!modalOptions.modal" type="submit" class="btn btn-primary "  ng-disabled="enquiryForm.$pristine || enquiryForm.$invalid || mailSent"ng-click="postData(enquiry)">Send Enquiry</button>
			
			<button ng-click="modalOptions.close()" class="btn btn-danger col--offset-sm-2" title="Cancel Sending">Cancel</button>
		</div>
	</div>
	
</form>
</div>
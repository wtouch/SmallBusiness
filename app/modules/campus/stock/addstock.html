<div class="modal-header">
	<button type="button" class="btn btn-danger pull-right buttondistance" ng-click="modalOptions.close()">Close</button>
	
	<h3 ng-if="!modalOptions.addstock.id" class="text-center">Add stock</h3>
	<h3 ng-if="modalOptions.addstock.id" class="text-center" >Update stock</h3>
</div>

<div class="modal-body">
	<form name="generalForm" class="form-horizontal" role="form" novalidate="novalidate" ng-submit=	"generalForm.$valid" id="generalForm">
		<div class=" form-group">
				<label for="type" class="col-sm-2 control-label"> Select stock Type </label>
				<div class="col-sm-10">
					<select class="form-control" name="type" id="type" ng-model="modalOptions.addstock.type" required>
						<option value="">Select Type</option>
						<option value="1">Equipment</option>
						<option value="2">Stationary</option>
						<option value="3">Book</option>
					</select>	
				</div>
		</div>
		<div class=" form-group">
			<div ng-init="modalOptions.getData(false,false,'vendor', 'vendorList',vendorParams,modalOptions)">
			<label for="vendor_id" class="col-sm-2 control-label"> Select Vendor * </label>
			<div class="col-sm-4">
				<select class="form-control" name="vendor_id" id="vendor_id" ng-model="modalOptions.addstock.vendor_id" ng-options="item.id as item.name for item in modalOptions.vendorList" required>
					<option value="">Select Vendor</option>
					<option value="1">1</option>
					<option value="2">2</option>
				</select>	
			</div>
			</div>
			<!-- <label  for="stock_date" class="col-sm-2 control-label">stock Date *</label>
			<div class="col-sm-4">
			<input type="text" class="form-control " placeholder=" stock Date" id="stock_date" name="stock_date" ng-model="modalOptions.addstock.stock_date" datepicker-popup="{{'dd-MM-yyyy'}}" is-open="opened" min-date="minDate" max-date="maxDate" datepicker-options="dateOptions" ng-init="modalOptions.addstock.stock_date = modalOptions.date"  ng-required="true" close-text="Close" ng-click="opened = !opened"/>
			</div> -->
		</div>
	</form>

<div class="row">
	
<div class="col-sm-12" ng-init="modalOptions.addstock.particular = (modalOptions.addstock.particular) ? modalOptions.addstock.particular : []">
		<form name="addstockForm" class="form-horizontal" role="form" novalidate="novalidate" ng-submit="addstockForm.$valid" id="addstockForm">		
			<ng-include ng-if="modalOptions.addstock.type==1||2" src="'modules/campus/stock/equipment.html'"></ng-include> 
			<ng-include  ng-if="modalOptions.addstock.type==3" src="'modules/campus/stock/book.html'"></ng-include>
		</form>
	</div>
</div>

	<div class="table-responsive" ng-if="modalOptions.addstock.vendor_id && (modalOptions.addstock.type == 1 || modalOptions.addstock.type == 2 || modalOptions.addstock.type == 3)">
		<table class="table table-bordered" >
			<thead>
				<tr>
					<th class="col-sm-2">Sr.No.</th>
					<th class="col-sm-2" ng-if="modalOptions.addstock.type != 3">Particular Name</th>
					<th class="col-sm-2" ng-if="modalOptions.addstock.type != 3">Goods_type</th>
					<th class="col-sm-2"ng-if="modalOptions.addstock.type != 3">Category </th>
					<th class="col-sm-2" ng-if="modalOptions.addstock.type == 3">Book Name</th>
					<th class="col-sm-2" ng-if="modalOptions.addstock.type == 3">Author Name</th>
					<th class="col-sm-2" ng-if="modalOptions.addstock.type == 3">Publisher Name</th>
					<th class="col-sm-2" ng-if="modalOptions.addstock.type == 3">Edition</th>
					<th class="col-sm-2">Quantity</th>
					<th >Remove</th>
				</tr> 
			</thead>
			
			<tbody >
				<tr ng-repeat="x in modalOptions.addstock.particular">
					<td>{{$index + 1}}</td>
					<td >{{x.particular_name}}</td>
					<td ng-if="modalOptions.addstock.type != 3">{{x.goods_type}}</td>
					<td ng-if="modalOptions.addstock.type != 3">{{x.category}}</td>
					<!-- <td ng-if="modalOptions.addstock.type == 3">{{x.book_name}}</td> -->
					<td ng-if="modalOptions.addstock.type == 3">{{x.author}}</td>
					<td ng-if="modalOptions.addstock.type == 3">{{x.publisher}}</td>
					<td ng-if="modalOptions.addstock.type == 3">{{x.edition}}</td>
					<td>{{x.quantity}}</td>
					<td><button ng-click="modalOptions.removeObject(modalOptions.addstock.particular, $index);">X</button></td>
		</table>
		
			<label class="col-sm-1">Remark</label>
			<div class="col-sm-8 form-group">
				<textarea rows="3" class="form-control" id="remark" name="remark" ng-model="modalOptions.addstock.remark"  maxlength="200" placeholder="please Remark here.." required > </textarea>
				<span ng-hide="addstockForm.remark.$error.maxlength">
					{{ 200 - modalOptions.addstock.remark.length + " Chars left" }}
				</span>	
				<span class="help-block" ng-show="addstockForm.remark.$dirty &&  addstockForm.remark.$invalid">
					<span class="text-danger" ng-show="addstockForm.remark.$error.maxlength">Sorry You are Exceeding the Limit</span>
					<span class="text-danger" ng-show="addstockForm.remark.$error.required">Remark is required.</span>
				</span>	
			</div>
		</div>
<div class="modal-footer">
	
	<button type="submit"  class="btn btn-success" ng-disabled="generalForm.$invalid"  ng-if="!modalOptions.addstock.id" ng-click="modalOptions.postData('stock',modalOptions.addstock); modalOptions.ok()">Add stock</button>
	
	<button type="submit" ng-if="modalOptions.addstock.id"  class="btn btn-success" ng-click="modalOptions.updateData('stock',modalOptions.addstock,modalOptions.addstock.id); modalOptions.ok()">Update Stock LIst</button>
	
	
	<button type="button" class="btn btn-warning" ng-click="modalOptions.close()">Cancel</button>
</div>
</div>

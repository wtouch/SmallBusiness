	<div class="form-group">
		<div class="row">
			<div class="col-sm-12 text-right">
				<button ng-if="!infra" type="button" class="btn btn-default btn-primary" title="next" ng-click="update(businessData)">Save Details</button>
				<button ng-if="!infra" class="btn btn-default btn-info" ng-click="showForm('infra', 'portfolio')">Add Portfolio</button>
			</div>
		</div>
	</div>
	 
	<form name="portForm" ng-if="infra" role="form" class="form-horizontal" ng-submit="portForm.$valid" novalidate="novalidate">
		<div class="form-group" >
			<div class="col-sm-9 col-sm-offset-3">
				<button ng-if="infra && !edit" class="btn btn-default btn-primary" ng-click=	"addToObject(portfolio, businessData.portfolio, 'portfolio')" ng-disabled="portForm.$invalid">Add Portfolio</button>
				<button ng-if="infra && edit" class="btn btn-default btn-info" ng-click="addToObject('edit', businessData.portfolio, 'portfolio')" title="Add Portfolio" ng-disabled="portForm.$invalid">Edit Details</button>
				<button ng-if="infra" class="btn btn-default btn-danger" ng-click="showForm('infra')"><span ng-show="infra">Cancel</span></button>
			</div>
		</div>
		
	<div class="form-group">
		<label for="image" class="col-sm-3 control-label">Add Images</label>
		<div class="col-sm-5">
			<input type="file" id="image" ng-file-select ng-multiple="true" accept="image/jpeg,image/png, image/gif" ng-file-change="uploadportfolio(image,businessData.user_id + path,userInfo,portfolio.image)" ng-model="image">
			<input type="hidden" ng-model="portfolio.image">
		</div>
		
		<div class="col-sm-4" ng-if="portfolio.image">
			<img ng-model="imgKey" ng-init="imgKey = key" ng-src="{{appConfig.assetPath + '/' + portfolio.image.file_relative_path}}" width="150px" />
		</div>
	</div>
	
	<div class="form-group">						 
		<div class="col-sm-9 col-sm-offset-3">
			<span class="thumbs" ng-if="portfolio.image">
				<img class="img-thumbnail" ng-src="{{appConfig.assetPath + '/' + portfolio.image.file_relative_path}}" ng-click="portfolio.imgkey = key; "/>
				<span class="close" ng-click="removeImg(key, portfolio.image)">X</span>
			</span>
		</div>
	</div>
	<div class="form-group">
		<label for="infraHeading" class="col-sm-3 control-label" name="infraHeading" >Title*</label>
		<div class="col-sm-9">
			<input type="text" class="form-control" name="infraHeading" id="infraHeading"  ng-model="portfolio.heading" required ng-disabled="headingDisabled">
			<span class="help-block" ng-show="portForm.infraHeading.$dirty && portForm.infraHeading.$invalid">
		<span ng-show="portForm.infraHeading.$error.required" class="text-danger">Required Field.</span>
			</span>				
		</div>
	</div>
		
	<div class="form-group">
		<label class="col-sm-3 control-label">Featured Portfolio*</label>
		<div class="col-sm-9 radio">
			<label>
				<input type="radio" name="featuredGallery" id="featuredGallery" value="0" ng-model="portfolio.featured" required> No 
			</label>
			<label>
				<input type="radio" name="featuredGallery" id="featuredGallery" value="1" ng-model="portfolio.featured" ng-init="portfolio.featured='1'" required> Yes
			</label>
			<span class="help-block" ng-show="portForm.featuredGallery.$dirty && portForm.featuredGallery.$invalid">
			</span>				
		</div>
	</div>
			
	<div class="form-group">
		<label for="category" class="col-sm-3 control-label">Category </label>
			<div class="col-sm-9">
				<input type="text" class="form-control" id="category" name="category" ng-model="portfolio.category" placeholder="Enter Category" />
			</div>
	</div>
	<div class="form-group">
		<label for="link" class="col-sm-3 control-label">Respected Link*</label>
		<div class="col-sm-9">
			<input type="url" class="form-control" id="link" ng-model="portfolio.link" name="link" placeholder="Enter Website" required>
			<span class="help-block" ng-show="portForm.link.$dirty &&portForm.link.$invalid">
				<span ng-show="portForm.link.$error.url" class="text-danger">Invalid Website.</span>
				<span ng-show="portForm.link.$error.required" class="text-danger">Required Field.</span>
			</span>
			<span>e.g http://www.google.com</span>
		</div>
	</div>					
	<div class="form-group">
		<label for="imgDesc" class="col-sm-3 control-label">Portfolio Description*</label>
		<div class="col-sm-9">
			<textarea type="text" class="form-control" id="imgDesc" name="imgDesc" ng-model="portfolio.description" cols="30" rows="4" ng-maxlength="2000" placeholder="Enter Image Description" required></textarea>
				<p ng-hide="portForm.imgDesc.$error.maxlength">
					{{ 2000 - portfolio.description.length + " Chars left" }}
				</p>					
				<span class="help-block" ng-show="portForm.imgDesc.$dirty && portForm.imgDesc.$invalid">
					<span class="text-danger" ng-show="portForm.imgDesc.$error.maxlength">Sorry You are Exceeding the Limit</span>
					<span ng-show="portForm.imgDesc.$error.required" class="text-danger">Required Field.</span>
				</span>	
		</div>
	</div>
	
	<div>
		<input type="hidden" name="portfolio" ng-model="addbusiness.portfolio" />
		<span class="help-block" ng-show="portForm.portfolio.$dirty && portForm.portfolio.$invalid">
			<span ng-show="portForm.portfolio.$error.required" class="text-danger">Required Field.</span>
		</span>
	</div>
	</form>

<div class="row">
	<div class="col-sm-12" ng-if="businessData.portfolio.length>=1">
		<div class="panel panel-default">
			<h5 class="text-center border-bottom"><b>Gallery</b></h5>
	<div as-sortable="dragControlListeners" ng-model="businessData.portfolio">
	<div ng-repeat="value in businessData.portfolio" as-sortable-item>
		<div class="clearfix border-bottom infras">
			<span as-sortable-item-handle class="pull-left glyphicon glyphicon glyphicon-move"></span>
			<div class="pull-right">
				<div class="btn-group">
					<button class="btn btn-primary" ng-click="isCollapsed = !isCollapsed" tooltip="View Details">
					<span class="caret"></span></button>
				</div>
				<div class="btn-group">
					<button class="btn btn-success glyphicon glyphicon-pencil" ng-click="editObject(value,'portfolio'); showForm('infra')" tooltip="Edit Details"></button>
				</div>
				<div class="btn-group">
					<button class="btn btn-warning glyphicon glyphicon-trash" ng-click="removeObject($index,businessData.portfolio)" tooltip="Remove"></button>
				</div>
				<div class="btn-group">
					<a ng-click="openGallery('modules/business/adddetails/viewGallery.html')" class="btn btn-success glyphicon glyphicon-eye-open">
					</a>
				</div> 
			</div>
			<p>{{value.heading}}</p>
		</div>
		<div collapse="isCollapsed">
			<div class="well well-lg clearfix">
			<img class="pull-right" ng-src="{{appConfig.assetPath + '/' + value.image.file_relative_path}}" width="150px" />
			<p ng-bind-html="value.description"></p>
			</div> 
		</div>
	</div>
	</div>
</div>
</div>
</div>

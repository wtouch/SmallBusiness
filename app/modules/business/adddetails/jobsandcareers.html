<div class="form-group">
	<div class="row">
		<div class="col-sm-12 text-right">
			<button ng-if="!infra" type="button" class="btn btn-default btn-primary" title="next" ng-click="update(businessData)">Save Details</button>
			<button ng-if="!infra" class="btn btn-default btn-info" ng-click="showForm('infra', 'job_careers')">Add New Job/Career</button>
		</div>
	</div>
</div>
	 
	<form name="jobsandcareersForm" role="form" class="form-horizontal" ng-if="infra" ng-submit="jobsandcareersForm.$valid" novalidate="novalidate">
		<div class="form-group" >
			<div class="col-sm-9 col-sm-offset-3">
				<button ng-if="infra && !edit" class="btn btn-default btn-primary" ng-click=	"addToObject(job_careers, businessData.job_careers, 'job_careers')" ng-disabled="jobsandcareersForm.$invalid">Add Job/Career</button>
				
				<button ng-if="infra && edit" class="btn btn-default btn-info" ng-click="addToObject('edit', businessData.job_careers, 'job_careers')" title="Add Job/Career">Edit Details</button>
				
				<button ng-if="infra" class="btn btn-default btn-danger" ng-click="showForm('infra')"><span ng-show="infra">Cancel</span></button>
			</div>
		</div>

		<div class="form-group">
			<label for="jobTitle" class="col-sm-3 control-label">Job Title*</label>
			<div class="col-sm-9">
				<input type="text" id="jobTitle" class="form-control" ng-model="job_careers.heading" name="jobTitle" placeholder="Job Title" ng-disabled="headingDisabled" required />
				<span class="help-block" ng-show="jobsandcareersForm.jobTitle.$dirty && jobsandcareersForm.jobTitle.$invalid">
					<span ng-show="jobsandcareersForm.jobTitle.$error.required" class="text-danger">Required Field.</span>
				</span>
			</div>
		</div>
		<div class="form-group">
			<label for="jobDescription" class="col-sm-3 control-label">Job Description* </label>
			<div class="col-sm-9">
				<textarea type="text" class="form-control" id="jobDescription" name="jobDescription" ng-model="job_careers.description" cols="30" rows="4" ng-maxlength="5000" placeholder="Enter Job Description" ui-tinymce required></textarea>
				
				<p ng-hide="jobsandcareersForm.jobDescription.$error.maxlength">
					{{ 5000 - job_careers.description.length + " Chars left" }}</p>
					
				<span class="help-block" ng-show="jobsandcareersForm.jobDescription.$dirty && jobsandcareersForm.jobDescription.$invalid">
					<span class="text-danger" ng-show="jobsandcareersForm.jobDescription.$error.maxlength">Sorry You are Exceeding the Limit</span>
					<span ng-show="jobsandcareersForm.jobDescription.$error.required" class="text-danger">Required Field.</span>
				</span>	
			</div>
		</div>

		<div>
			<input type="hidden" name="job_careers" ng-model="businessData.job_careers" />
			<span class="help-block" ng-show="jobsandcareersForm.job_careers.$dirty && jobsandcareersForm.job_careers.$invalid">
				<span ng-show="jobsandcareersForm.job_careers.$error.required" class="text-danger">Required Field.</span>
			</span>
		</div>
	</form>

<div class="row">
	<div class="col-sm-12" ng-if="businessData.job_careers.length>=1">
		<div class="panel panel-default">
			<h5 class="text-center border-bottom"><b>Job & Careers</b></h5>
			<div as-sortable="dragControlListeners" ng-model="businessData.infrastructure">
			<div ng-repeat="value in businessData.job_careers" as-sortable-item>
				<div class="clearfix border-bottom infras">
				<span as-sortable-item-handle class="pull-left glyphicon glyphicon glyphicon-move"></span>
				<div class="pull-right">
					<div class="btn-group">
					<button class="btn btn-primary pull-right" ng-click="isCollapsed = !isCollapsed" tooltip="View Details">
					<span class="caret"></span></button>
					</div>
					<div class="btn-group">
					<button class="btn btn-success glyphicon glyphicon-pencil" ng-click="editObject(value,'job_careers'); showForm('infra')" tooltip="Edit Details"></button>
					</div>
					<div class="btn-group">
					<button class="btn btn-warning glyphicon glyphicon-trash" ng-click="removeObject($index,businessData.job_careers)" tooltip="Remove"></button>
					</div>
					<div class="well well-lg clearfix" collapse="isCollapsed" >
						<div><p ng-bind-html="value.description" ></p>
						</div> 
					</div>
				</div>
				<p>{{value.heading}}</p>
				</div>	
			</tr>
		</table>
	</div>
	</div>
</div>
</div>
</div>

<div class="form-group">
	<div class="row">
		<div class="col-sm-12 text-right">
			<button ng-if="!infra" type="button" class="btn btn-default btn-primary" title="next" ng-click="update(businessData)">Save Details</button>
			<button ng-if="!infra" class="btn btn-default btn-info" ng-click="showForm('infra', 'testimonials')">Add Testimonials</button>
		</div>
	</div>
</div>

	<form name="testimonialsForm" ng-if="infra" role="form" class="form-horizontal" ng-submit="jobsandcareersForm.$valid" novalidate="novalidate">
		<div class="form-group">
			<div class="col-sm-offset-3 col-sm-9">
				<button ng-if="infra && !edit" class="btn btn-default btn-primary" ng-click=	"addToObject(testimonials, businessData.testimonials, 'testimonials')" ng-disabled="testimonialsForm.$invalid">Add Testimonials</button> 
							
				<button ng-if="infra && edit" class="btn btn-default btn-info" ng-click="addToObject('edit', businessData.testimonials, 'testimonials')" title="Edit Testimonials">Edit Details</button>
				
				<button ng-if="infra" class="btn btn-default btn-danger" ng-click="showForm('infra')"><span ng-show="infra">Cancel</span></button> 
				
			</div>
		</div>
		<div class="form-group">
			<label  for="date" class="col-sm-3 control-label">Date*</label>
			<div class="col-sm-9">
				<p class="input-group">
			  <input class="form-control" type="text" id="date" name="date" datepicker-popup="yyyy-MM-dd" ng-model="testimonials.date" is-open="testimonialdate" min-date="minDate" max-date="'2016-06-22'" ng-required="true" close-text="Close" ng-click="open($event,'testimonialdate')" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" />
					<span class="input-group-btn">
						<button type="button" class="btn btn-default" ng-click="open($event, 'testimonialdate')">
						<i class="glyphicon glyphicon-calendar"></i></button>
					</span>
				</p>
			</div>
		</div>	
		<div class="form-group">
			<label for="testimonial" class="col-sm-3 control-label">Testimonial Given By*</label>
			<div class="col-sm-9">
				<input type="text" id="testimonial" class="form-control" name="testimonial" placeholder="Testimonial Given By" ng-model="testimonials.heading" required ng-disabled="headingDisabled">
				<span class="help-block" ng-show="testimonialsForm.testimonial.$dirty && testimonialsForm.testimonial.$invalid">
					<span ng-show="testimonialsForm.testimonial.$error.required" class="text-danger">Required Field.</span>
				</span>
			</div>						
		</div>
		
	<div class="form-group">
		<label for="image" class="col-sm-3 control-label">Add Images</label>
		<div class="col-sm-5">
			<input type="file" id="image" ng-file-select ng-multiple="true" accept="image/jpeg,image/png, image/gif" ng-file-change="uploadtesti(image,businessData.user_id + path,userInfo, testimonials.image)" ng-model="image">
			<input type="hidden" ng-model="testimonials.image">
		</div>
		
		<div class="col-sm-4" ng-if="testimonials.image">
			<img ng-model="imgKey" ng-init="imgKey = key" ng-src="{{appConfig.assetPath + '/' + testimonials.image.file_relative_path}}" width="150px" />
		</div>
	</div>
	
	<div class="form-group">						 
		<div class="col-sm-9 col-sm-offset-3">
			<span class="thumbs" ng-if="testimonials.image">
				<img class="img-thumbnail" width="40px" ng-src="{{appConfig.assetPath + '/' + testimonials.image.file_relative_path}}" ng-click="testimonials.imgkey = key; "/>
				<span class="close" ng-click="removeImg(key, testimonials.image)">X</span>
			</span>
		</div>
	</div>
		
		<div class="form-group">	
			<label  for="senderemail" class="col-sm-3 control-label">Email*</label>	
			<div class="col-sm-9">
				<input type="Email" class="form-control" id="senderemail" ng-model="testimonials.email" name="senderemail" placeholder="Enter Email" required >
				<span class="help-block" ng-show="testimonialsForm.senderemail.$dirty && testimonialsForm.senderemail.$invalid">
				<span ng-show="testimonialsForm.senderemail.$error.required" class="text-danger">Required Field.</span>
				<span ng-show="testimonialsForm.senderemail.$error.email" class="text-danger">Invalid Email address.</span>
				</span>
			</div>					
		</div>
		
		<div class="form-group">
			<label for="address" class="col-sm-3 control-label">Address*</label>
				<div class="col-sm-9">
					<textarea type="text" class="form-control" id="address" name="address" ng-model="testimonials.address" cols="30" rows="3" ng-maxlength="256" placeholder="Enter address"  required></textarea>
					<p ng-hide="testimonialsForm.address.$error.maxlength">
							{{ 256 - testimonials.address.length + " Chars left" }}	</p>
						<span class="help-block" ng-show="testimonialsForm.address.$dirty && testimonialsForm.address.$invalid">
							<span ng-show="testimonialsForm.address.$error.maxlength"class="text-danger">Sorry You are Exceeding the Limit</span>
							<span class="text-danger" ng-show="testimonialsForm.address.$error.required">Required Field.</span>
						</span>					
				</div>
		</div>	

		<div class="form-group">
			<label for="phone" class="col-sm-3 control-label">Phone*</label>
			<div class="col-sm-9">
				<input type="text" id="phone" name="phone" class="form-control" ng-model="testimonials.phone" placeholder="Your Contact No" ng-pattern="/\d{5}([- ]*)\d{6}/" maxlength="14" required>
				<span class="help-block" ng-show="testimonialsForm.phone.$dirty && testimonialsForm.phone.$invalid">
					<span ng-show="testimonialsForm.phone.$error.pattern && (testimonialsForm.phone.$dirty || submitted)" class="text-danger">Enter a valid Contact Number</span>
				</span>
			</div>
		</div>

		<div class="form-group">
			<label for="test_Description" class="col-sm-3 control-label">Testimonial Description*</label>
			<div class="col-sm-9">
				<textarea type="text" class="form-control" id="test_Description" name="test_Description" ng-model="testimonials.description" cols="30" rows="4" ng-maxlength="5000" placeholder="Enter Testimonial Description" ui-tinymce required></textarea>
				<p ng-hide="testimonialsForm.test_Description.$error.maxlength">{{ 5000 - testimonials.description.length + " Chars left" }}</p>
				<span class="help-block" ng-show="testimonialsForm.test_Description.$dirty && testimonialsForm.test_Description.$invalid">
					<span class="text-danger" ng-show="testimonialsForm.test_Description.$error.maxlength">Sorry You are Exceeding the Limit</span>
					<span ng-show="testimonialsForm.test_Description.$error.required" class="text-danger">Required Field.</span>
				</span>	
			</div>
		</div>
	</form>
	
	<div class="row">
		<div class="col-sm-12" ng-if="businessData.testimonials.length>=1">
				<div class="panel panel-default">
					<h5 class="text-center border-bottom"><b>Testimonials</b></h5>
					<div as-sortable="dragControlListeners" ng-model="businessData.testimonials">
					<div ng-repeat="value in businessData.testimonials" as-sortable-item>
					<div class="clearfix border-bottom infras">
					<span as-sortable-item-handle class="pull-left glyphicon glyphicon glyphicon-move"></span>
						<div class="pull-right">
							<div class="btn-group">
								<button class="btn btn-primary pull-right" ng-click="isCollapsed = !isCollapsed" tooltip="View Details">
								<span class="caret"></span></button>
							</div>
							<div class="btn-group">
								<button class="btn btn-success glyphicon glyphicon-pencil" ng-click="editObject(value,'testimonials'); showForm('infra')" tooltip="Edit Details"></button>
							</div>
							<div class="btn-group">
								<button class="btn btn-warning glyphicon glyphicon-trash" ng-click="removeObject($index,businessData.testimonials)" tooltip="Remove"></button>
							</div>
						</div>
						<p>{{value.heading}}</p>
						<div collapse="isCollapsed">
							<div class="well well-lg clearfix"><img ng-model="imgKey" ng-init="imgKey = key" ng-src="{{appConfig.assetPath + value.image.file_relative_path}}" width="150px" /><br>
								
								<b>Date:</b><p>{{value.date}}</p><br>
								
								<b>Description:</b><p ng-bind-html="value.description">
							</div> 
						</div> 
					</div>
					</div> 
				</div>	
			</div>
		</div>
	</div>
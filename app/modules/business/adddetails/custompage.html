<div class="form-group">
	<div class="row">
		<div class="col-sm-12 text-right">
			<button ng-if="!infra" type="button" class="btn btn-default btn-primary" title="next" ng-click="update(businessData)">Save Details</button>
			<button ng-if="!infra" class="btn btn-default btn-info" ng-click="showForm('infra', 'custompage')">Add Custom Details</button>
		</div>
	</div>
</div>
	 
	<form name="custompageForm" ng-if="infra" role="form" class="form-horizontal" ng-submit="custompageForm.$valid" novalidate="novalidate"> 
		<div class="form-group">
			<div class="col-sm-9 col-sm-offset-3">
				<button ng-if="infra && !edit" class="btn btn-default btn-primary" ng-click=	"addToObject(custompage, businessData.custom_details, 'custompage')" ng-disabled="custompageForm.$invalid">Add Custom Details</button>
				
				<button ng-if="infra && edit" class="btn btn-default btn-info" ng-click="addToObject(edit, businessData.custom_details, 'custompage')">Edit Details</button>
				
				<button ng-if="infra" class="btn btn-default btn-danger" ng-click="showForm('infra')">
					<span ng-show="infra">Cancel</span>
				</button>
			</div>
		</div>
		
		<div class="form-group">
			<label  for="title" class="col-sm-3 control-label">Title *</label>
			<div class="col-sm-9">
				<input type="text" id="title" class="form-control" name="title" ng-model="custompage.heading" cols="20" rows="4" required ng-disabled="headingDisabled"/>
					<span class="text-danger" ng-show="custompageForm.title.$error.maxlength">
					Sorry You are Exceeding the Limit</span>
						<span class="text-danger" ng-show="custompageForm.title.$dirty && custompageForm.title.$invalid">
					<span ng-show="custompageForm.title.$error.required">Required Field.</span>
			</div>
		</div>
	
		<div class="form-group">
			<label for="Desc" class="col-sm-3 control-label">Description*</label>
			<div class="col-sm-9">
				<textarea type="text" class="form-control" id="Desc" name="Desc" ng-model="custompage.desc.description" cols="30" rows="4" ng-maxlength="10000" placeholder="Enter custompage Description" ui-tinymce required></textarea>
				<p ng-hide="custompageForm.Desc.$error.maxlength">
					{{ 10000 - custompage.desc.description.length + " Chars left" }}	
				</p>
				
				<span class="help-block" ng-show="custompageForm.Desc.$dirty && custompageForm.Desc.$invalid">
					<span class="text-danger" ng-show="custompageForm.Desc.$error.maxlength">Sorry You are Exceeding the Limit</span>
					<span ng-show="custompageForm.Desc.$error.required" class="text-danger">Required Field.</span>
				</span>	
			</div>
		</div>
		<div>
			<input type="hidden" name="custompage" ng-model="addbusiness.custompage" />
			<span class="help-block" ng-show="custompageForm.custompage.$dirty && custompageForm.custompage.$invalid">
				<span ng-show="custompageForm.custompage.$error.required" class="text-danger">Required Field.</span>
			</span>
		</div>
	</form>
	<div class="row">
		<div class="col-sm-12" ng-if="businessData.custom_details.length>=1">
			<div class="panel panel-default">
			<h5 class="text-center border-bottom"><b>Infrastucture</b></h5>
			<div as-sortable="dragControlListeners" ng-model="businessData.custom_details">
				<div ng-repeat="value in businessData.custom_details" as-sortable-item>
					<div class="clearfix border-bottom">
						<div class="clearfix">
							<span as-sortable-item-handle class="pull-left glyphicon glyphicon glyphicon-move"></span>
						<div class="pull-right">
							<div class="btn-group">
							<button class="btn btn-primary pull-right" ng-click="isCollapsed = !isCollapsed" tooltip="View Details">
							<span class="caret"></span></button>
							</div>
							<div class="btn-group">
							<button class="btn btn-success glyphicon glyphicon-pencil" ng-click="editObject(value,'custompage'); showForm('infra')" tooltip="Edit Details"></button>
							</div>
							<div class="btn-group">
							<button class="btn btn-warning glyphicon glyphicon-trash" ng-click="removeObject($index,businessData.custom_details)" tooltip="Remove"></button>	
							</div>
						</div>
						<p>{{value.heading}}</p>
						<div class="well well-lg clearfix" collapse="isCollapsed" as-sortable-item>
							<div><p ng-bind-html="value.description" ></p>
							</div> 
						</div>
					</div>
				</div>
				</div>
			</div>
		</div>
	</div>

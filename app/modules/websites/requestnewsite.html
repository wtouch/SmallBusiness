<h3 class="col-sm-offset-2 col-sm-9">Request For New Site</h3>
	<form name="requestsiteForm" class="form-horizontal" role="form" ng-submit="requestsiteForm.$valid" novalidate="novalidate" ng-init="setFormScope(this)">
	<div class="row">
	<div class="col-sm-6 panel panel-default">
		<div class="form-group panel-body" ng-if="userDetails.group_name != 'customer'">		
			<label for="customer" class="col-sm-2 control-label">Customer*</label>
			<div class="col-sm-9">				
				<select class="form-control" name="customer" id="customer" ng-change="getBusiness(reqnewsite.user_id)" ng-model="reqnewsite.user_id" ng-options="item.id as item.name for item in customerList | filter:{ group_name : 'customer' }" required>
					<option value="">Select Customer</option>
				</select>				
				<span class="help-block" ng-show="requestsiteForm.customer.$dirty && requestsiteForm.customer.$invalid">
					<span ng-show="requestsiteForm.customer.$error.required" class="text-danger">Customer is required.</span>
				</span>	
			</div>
		</div>
		
		<input type="hidden" class="form-control" ng-if="userDetails.group_name == 'customer'" ng-model="reqnewsite.user_id" ng-init="reqnewsite.user_id = userDetails.id; getBusiness(reqnewsite.user_id)" readonly/>
		
		<input type="hidden" ng-init="reqtemp.date" ng-model="reqnewsite.registered_date" readonly/>
		
		<div class="form-group" ng-if="reqnewsite.user_id" >
			<label  for="selectbusiness" class="col-sm-2 control-label">Business *</label>
			<div class="col-sm-4">
				<select id="selectBusiness" name="selectBusiness" class="form-control" ng-change="changeScope(selectBusiness);getMenulist(reqnewsite.user_id, reqnewsite.business_id)" ng-model="reqnewsite.business_id" ng-options="item.id as item.business_name for item in businessList" required> 
					<option value="">Select Business</option>
				</select> 
				<span class="help-block" ng-show="requestsiteForm.selectBusiness.$dirty && requestsiteForm.selectBusiness.$invalid">
				<span ng-show="requestsiteForm.selectBusiness.$error.required" class="text-danger">Business is required.</span>
				</span>	
			</div>
			<label  for="selectTemplate" class="col-sm-1 control-label">Template *</label>		
			<div class="col-sm-4">
				<select id="selectTemplate" name="selectTemplate" class="form-control" ng-model="reqnewsite.template_id" ng-options="item.id as item.template_name for item in templateList" required>
					<option value="">Select Template</option>
				</select>
				<span class="help-block" ng-show="requestsiteForm.selectTemplate.$dirty && requestsiteForm.selectTemplate.$invalid">
				<span ng-show="requestsiteForm.selectTemplate.$error.required" class="text-danger">Template is required.</span>
				</span>	
			</div>
		</div>
			
		<div class="form-group">	
			<label for="domain_type" class="col-sm-2 control-label">Domain Type*</label>
			<div class="col-sm-9">
				<div class="row">
					<div class="radio col-sm-3" ng-init="domain_type = 'free'">
						<label>
							<input type="radio" name="domain_type" ng-model="domain_type" id="domain_type" value="free">
							Free Domain
						</label>
					</div>
					<div class="radio col-sm-3">
						<label>
							<input type="radio" name="domain_type" ng-model="domain_type" id="domain_type" value="paid">
							Private/Paid Domain
						</label>
					</div>
				</div>
			</div>
		</div>
		
		<div ng-if="domain_type == 'free'" class="form-group">
			<label  for="subdomain" class="col-sm-2 control-label">Domain Name*</label>
			<div class="col-sm-9">
				<div class="input-group">
					<input type="text" ng-pattern="/^[a-z0-9]*$/" class="form-control" id="subdomain" ng-model="subdomain" name="subdomain" placeholder="Enter Domain" ng-keyup="($event.keyCode==13) ? checkSubsomainAvailable(reqnewsite.domain_name) : ''" ng-change="reqnewsite.domain_name = subdomain+'.apnasite.in'" required>
					<input type="hidden" ng-model="reqnewsite.domain_name" />
					<span class="input-group-addon" type="button" ng-click="checkSubsomainAvailable(reqnewsite.domain_name)">.apnasite.in</span>
					<span class="input-group-btn">
						<button class="btn btn-info" type="button" ng-click="checkSubsomainAvailable(reqnewsite.domain_name)">Check Availability</button>
					</span>
				</div>	
				<span class="help-block" ng-show="requestsiteForm.subdomain.$dirty &&  !requestsiteForm.subdomain.$error.available">
					<span class="text-success">{{domainAvailableMsg}}</span>
				</span>
				<span class="help-block" ng-show="requestsiteForm.subdomain.$dirty && requestsiteForm.subdomain.$invalid">
					<span class="text-danger" ng-show="requestsiteForm.subdomain.$error.required">Domain  is required.</span>
					<span class="text-danger" ng-show="requestsiteForm.subdomain.$error.pattern">Invalid Web Site.</span>
					<span class="text-danger" ng-show="requestsiteForm.subdomain.$error.available">{{domainAvailableMsg}}</span>
				</span>
				<span>e.g yourdomain.apnasite.in</span>
			</div>
		</div>
		
		<div ng-if="domain_type == 'paid'" class="form-group">	
			<label  for="domain_name" class="col-sm-2 control-label">Domain Name*</label>
			<div class="col-sm-9">
				<div class="input-group">
					<input type="text" ng-pattern="/^[a-z0-9]+\.[a-z]*$/" class="form-control" id="domain_name" ng-model="reqnewsite.domain_name" name="domain_name" placeholder="Enter Domain" ng-keyup="($event.keyCode==13) ? checkAvailable(reqnewsite.domain_name) : ''" required>
					<span class="input-group-btn">
						<button class="btn btn-info" type="button" ng-click="checkAvailable(reqnewsite.domain_name)">Check Availability</button>
					</span>
				</div>
				<span class="help-block" ng-show="requestsiteForm.domain_name.$dirty &&  !requestsiteForm.domain_name.$error.available">
					<span class="text-success">{{domainAvailableMsg}}</span>
				</span>
				<span class="help-block" ng-show="requestsiteForm.domain_name.$dirty && requestsiteForm.domain_name.$invalid">
					<span class="text-danger" ng-show="requestsiteForm.domain_name.$error.required">Domain  is required.</span>
					<span class="text-danger" ng-show="requestsiteForm.domain_name.$error.pattern">Invalid Web Site.</span>
					<span class="text-danger" ng-show="requestsiteForm.domain_name.$error.available">{{domainAvailableMsg}}</span>
				</span>
				<span>e.g apnasite.in</span>
			</div>
		</div>
		
		<div  ng-if="domain_type == 'paid'" class="form-group"><!-- -->
			<label for="contactno" class="col-md-2 control-label">Website Validity</label>
			<div class="col-md-9">
				<select id="filterbyvalidity" class="form-control" ng-model="reqnewsite.validity">
						<option value="">Select Website Validity</option>
						<option value="1">1</option>
						<option value="2">2</option>
						<option value="3">3</option>
						<option value="4">4</option>
						<option value="5">5</option>
						<option value="6">6</option>
						<option value="7">7</option>
						<option value="8">8</option>
						<option value="9">9</option>
						<option value="10">10</option>
				</select>
			</div>
		</div>
		
		<div class="form-group">
			<label for="name" class="col-sm-2 control-label">Contact Name* </label>
				<div class="col-sm-9">
					<input type="text" class="form-control" id="name" ng-model="reqnewsite.config.contact_details.contact_name" name="name" placeholder="Enter Name" required>
						<span class="help-block" ng-show="requestsiteForm.name.$dirty && requestsiteForm.name.$invalid">
							<span class="text-danger" ng-show="requestsiteForm.name.$error.required">name is required.</span>
						</span>	
				</div>
		</div>
		
		<div class="form-group">
			<label for="contactno" class="col-md-2 control-label">Contact Number* </label>
			<div class="col-md-9">
				<input type="text" id="contactno" name="contactno" class="form-control" ng-model="reqnewsite.config.contact_details.contact" placeholder="Your Contact No" ng-pattern="/^[789]\d{9}$/" maxlength="10" required>
					<span class="help-block" ng-show="requestsiteForm.contactno.$dirty && requestsiteForm.contactno.$invalid">
						<span ng-show="requestsiteForm.contactno.$error.pattern && (requestsiteForm.contactno.$dirty || submitted)" class="text-danger">Enter a valid Contact Number .</span>
					</span>
			</div>	
		</div>
		
		<div class="form-group">	
			<label  for="contact_email" class="col-sm-2 control-label">Contact Email*</label>	
				<div class="col-sm-9">
					<input type="Email" class="form-control" id="contact_email" ng-model="reqnewsite.config.contact_details.contact_email" name="contact_email" placeholder="Enter Email" required >
						<span class="help-block" ng-show="websettingsForm.contact_email.$dirty && websettingsForm.contact_email.$invalid">
							<span ng-show="websettingsForm.contact_email.$error.required" class="text-danger"> Email is required.</span>
							<span ng-show="websettingsForm.contact_email.$error.email" class="text-danger">Invalid Email address.</span>
						</span>
				</div>					
		</div>
			
		<div class="form-group">
			<label for="description" class="col-sm-2 control-label">Description*</label>
			<div class="col-sm-9">
				<textarea type="text" class="form-control" id="description" name="description" ng-model="reqnewsite.description.desc" cols="30" rows="4" ng-maxlength="3000" placeholder="description" required></textarea>
				<p ng-bind-html="" ng-hide="requestsiteForm.description.$error.maxlength">
				{{ 3000 - description.length + " Chars left" }}
				</p>
				<span class="help-block" ng-show="requestsiteForm.description.$dirty && requestsiteForm.description.$invalid">
					<span class="text-danger" ng-show="requestsiteForm.description.$error.maxlength">Sorry You are Exceeding the Limit</span>
					<span class="text-danger" ng-show="requestsiteForm.description.$error.required">Please enter Product/Services.</span>
				</span>
			</div>						
		</div>
		
		<div class="form-group">
			<label for="" class="col-sm-2 control-label"></label>
			<div class="col-sm-4"> 
				<div class="bottomspace">
				<label  for="Latitude" class="col-sm-2 control-label">Latitude</label>
				<input type="text" id="Latitude" class="form-control" name="google_map" placeholder="Google Latitude" ng-model="reqnewsite.config.google_map.latitude" readonly />
				<span class="text-danger" ng-show="websettingsForm.Latitude.$dirty && websettingsForm.Latitude.$invalid">
					<span ng-show="websettingsForm.Latitude.$error.required">Domain Name is required.</span>
				</span>
				</div>
			</div>

			<div class="col-sm-4"> 
				<div class="bottomspace">
				<label  for="Longitude" class="col-sm-2 control-label">Longitude</label>
				<input type="text" id="Longitude" class="form-control" name="Longitude" placeholder="Google Latitude" ng-model="reqnewsite.config.google_map.longitude" readonly >
					<span class="text-danger" ng-show="websettingsForm.Longitude.$dirty && websettingsForm.Longitude.$invalid">
						<span ng-show="websettingsForm.Longitude.$error.required">Domain Name is required.</span>
					</span>
				</div>
			</div>									
		</div>
			
		<h4>Social Links</h4>
		<div class ="form-group">	
			<label  for="facebook" class="col-sm-2 control-label">Facebook</label>	
			<div class="col-sm-9">
				<input type="text" class="form-control" id="facebook" ng-model="reqnewsite.config.sociallinks.facebook" name="facebook" />
			</div>					
		</div>
		<div class="form-group ">	
			<label  for="google" class="col-sm-2 control-label">Google</label>	
			<div class="col-sm-9">
				<input type="text" class="form-control" name="google" id="google" ng-model="reqnewsite.config.sociallinks.google"  />
			</div>					
		</div>
		<div class="form-group">	
			<label  for="twitter" class="col-sm-2 control-label">Twitter</label>	
			<div class="col-sm-9">
				<input type="text" class="form-control" id="twitter" name="twitter" ng-model="reqnewsite.config.sociallinks.twitter"  />
			</div>					
		</div>
		<div class="form-group ">	
			<label  for="linkedin" class="col-sm-2 control-label">LinkedIn</label>	
			<div class="col-sm-9">
				<input type="text" class="form-control" id="linkedin" name="linkedin" ng-model="reqnewsite.config.sociallinks.linkedin"  />
			</div>					
		</div>
	
		<div class="form-group">
			<div class="col-sm-offset-2 col-sm-9">
				<button ng-disabled="requestsiteForm.$invalid || requestsiteForm.domain_name.$error.available" type="submit" class="btn btn-success" ng-click="postData(reqnewsite)">Send Request</button>
			</div>
		</div>	
	</div>
	
	
	<div class="col-sm-6" ng-init="ind = []">
	<accordion close-others="true">
	<accordion-group heading="Menus">
		<button  ng-click="getMenulist(reqnewsite.user_id, reqnewsite.business_id)"><span class="glyphicon glyphicon-refresh"></span></button>
		<script type="text/ng-template" id="tree_item_renderer.html">
			<span as-sortable-item-handle class="glyphicon glyphicon glyphicon-move" ></span>
	
			
			<span ng-show="data.childMenu" class="caret" ng-click="isCollapsed = !isCollapsed"></span>
				
			<input ng-show="ind[$index + data.url]" type="text" ng-model="data.name" />
			
			<span ng-show="!ind[$index + data.url]" ng-click="ind[$index + data.url] = !ind[$index + data.url]" tooltip="{{data.url}}">{{data.name}}</span>
			
			
				<span class="pull-right">
					<a class="glyphicon glyphicon-ok" btn-checkbox btn-checkbox-true="1" btn-checkbox-false="0" ng-model="data.status" ng-class="(data.status) ? 'glyphicon glyphicon-ok text-success' : 'glyphicon glyphicon-remove text-danger'" ></a> 
					
					<a class="glyphicon glyphicon-home" tooltip="Home Project" btn-checkbox btn-checkbox-true="true" btn-checkbox-false="false" ng-model="data.modules.headerModule.homeproject" ng-class="(data.modules.headerModule.homeproject == true) ? 'text-success' : 'text-muted'" ></a>
					
					<a class="glyphicon glyphicon-picture" tooltip="Slider" btn-checkbox btn-checkbox-true="true" btn-checkbox-false="false" ng-model="data.modules.headerModule.carousal" ng-class="(data.modules.headerModule.carousal == true) ? 'text-success' : 'text-muted'" ></a>
					
					<a class="glyphicon glyphicon-envelope" tooltip="Enquiry Form" btn-checkbox btn-checkbox-true="true" btn-checkbox-false="false" ng-model="data.modules.sidebarModule.enquiry" ng-class="(data.modules.sidebarModule.enquiry == true) ? 'text-success' : 'text-muted'" ></a>
					
					<a class="glyphicon glyphicon-search" tooltip="Search Property" btn-checkbox btn-checkbox-true="true" btn-checkbox-false="false" ng-model="data.modules.sidebarModule.searchProp" ng-class="(data.modules.sidebarModule.searchProp == true) ? 'text-success' : 'text-muted'" ></a>
					
					<a class="glyphicon glyphicon-phone-alt" tooltip="Contact Us" btn-checkbox btn-checkbox-true="true" btn-checkbox-false="false" ng-model="data.modules.sidebarModule.contact" ng-class="(data.modules.sidebarModule.contact == true) ? 'text-success' : 'text-muted'" ></a>
					
					<a class="glyphicon glyphicon-th-list" tooltip="Side Menus" btn-checkbox btn-checkbox-true="true" btn-checkbox-false="false" ng-model="data.modules.sidebarModule.sidemenu" ng-class="(data.modules.sidebarModule.sidemenu == true) ? 'text-success' : 'text-muted'" ></a>
					
					<a class="glyphicon glyphicon-shopping-cart" tooltip="Featured Products" btn-checkbox btn-checkbox-true="true" btn-checkbox-false="false" ng-model="data.modules.contentModule.featured_products" ng-class="(data.modules.contentModule.featured_products == true) ? 'text-success' : 'text-muted'" ></a>
					
					<a class="glyphicon glyphicon-cog" tooltip="Featured Services" btn-checkbox btn-checkbox-true="true" btn-checkbox-false="false" ng-model="data.modules.contentModule.featured_services" ng-class="(data.modules.contentModule.featured_services == true) ? 'text-success' : 'text-muted'" ></a>
					
					<a class="glyphicon glyphicon-star-empty" tooltip="Featured Projects" btn-checkbox btn-checkbox-true="true" btn-checkbox-false="false" ng-model="data.modules.contentModule.featured_projects" ng-class="(data.modules.contentModule.featured_projects == true) ? 'text-success' : 'text-muted'" ></a>
					
					<a class="glyphicon glyphicon-star" tooltip="Featured Properties" btn-checkbox btn-checkbox-true="true" btn-checkbox-false="false" ng-model="data.modules.contentModule.featured_properties" ng-class="(data.modules.contentModule.featured_properties == true) ? 'text-success' : 'text-muted'" ></a>
					
					<a ng-model="data.seo" ng-class="(ind[$index + data.url + 'seo']) ? 'text-success open' : 'text-muted'" >
						<span tooltip="Edit SEO" class="glyphicon glyphicon-flash" ng-click="ind[$index + data.url + 'seo'] = !ind[$index + data.url + 'seo']"></span>
						<span class="dropdown-menu" ng-show="ind[$index + data.url + 'seo']">
						<span class="close" ng-click="ind[$index + data.url + 'seo'] = false">X</span>
						<form name="seo" role="form" class="form-horizontal panel panel-default">
							<div class="form-group">
							<div class="col-sm-12">
							<input type="text" class="form-control" ng-model="data.seo.title" placeholder="SEO Title"/>
							</div>
							</div>
							<div class="form-group">
							<div class="col-sm-6">
							<textarea class="form-control" type="text" ng-model="data.seo.keywords" placeholder="SEO Keywords"></textarea>
							</div>
							<div class="col-sm-6">
							<textarea class="form-control" type="text" ng-model="data.seo.description" placeholder="SEO Description"></textarea>
							</div>
							</div>
						</form>
						</span>
					</a>		
				</span>
			<div ng-if="data.childMenu" as-sortable="dragControlListeners" ng-model="data.childMenu">
				<div class="menudiv childMenu" collapse="isCollapsed" ng-repeat="data in data.childMenu" ng-include="'tree_item_renderer.html'" as-sortable-item>
					<span class="caret pull-right" ng-if="data.childMenu"></span>
				</div>
			</div> 
		</script>
		<div class="list-group" as-sortable="dragControlListeners"ng-model="reqnewsite.config.menus">
			<div class="list-group-item menudiv" ng-repeat="data in reqnewsite.config.menus" ng-include="'tree_item_renderer.html'" as-sortable-item>
			</div>
		</div>
		</accordion-group>
		<accordion-group heading="Sidebar Menus">
		<div class="form-group panel panel-default">
				<div class="form-group">
					<button class="btn btn-primary col-sm-offset-3" ng-click="isCollapseds = !isCollapseds;addToObject(reqnewsite)">Add SideBar</button>
				</div>
			<div class="form-group panel-body">
			<div collapse="isCollapseds">
				<div class="well well-lg">
				<h4>Sidebar</h4>
					<div class="form-group">
						<!-- <label for="sidebarname" class="col-sm-2 control-label">Name</label> -->
						<div class="col-sm-6">
							<input type="text" class="form-control" id="sidebarname" name="sidebarname" ng-model="reqnewsite.config.sidebar.name" placeholder="Name"/>
						</div>
						<!-- <label for="sidebarurl" class="col-sm-1 control-label">URL</label> -->
						<div class="col-sm-6">
							<input type="text" class="form-control" id="sidebarurl" name="sidebarurl" ng-model="reqnewsite.config.sidebar.url" placeholder="URL" />
						</div>
					</div>
					<h4>Seo</h4>
					<div class="form-group">
						<!-- <label for="seotitle" class="col-sm-2 control-label">Title</label> -->
							<div class="col-sm-12">
								<input type="text" class="form-control" id="seotitle" name="seotitle" ng-model="reqnewsite.config.seo.name" placeholder="Title"/>
							</div>
					</div>
					<div class="form-group">
						<!-- <label for="keywords" class="col-sm-2 control-label">Keywords</label> -->
							<div class="col-sm-6">
								<textarea type="text" class="form-control" id="keywords" name="keywords" ng-model="reqnewsite.config.seo.keywords" placeholder="Keywords">
								</textarea>
							</div>
						<!-- <label for="description" class="col-sm-1 control-label">Description</label> -->
							<div class="col-sm-6">
								<textarea type="text" class="form-control" id="description" name="description" ng-model="reqnewsite.config.seo.description" placeholder="Description"></textarea>
							</div>
					</div>
				</div> 
			</div>
			</div>
			
		</div>

		<!--show Sidebar Menu-->
		<!-- <button  ng-click="getMenulistSidebar(reqnewsite.user_id, reqnewsite.business_id)"><span class="glyphicon glyphicon-refresh"></span></button>
			<script type="text/ng-template" id="tree_item_renderer.html">
				<span as-sortable-item-handle class="glyphicon glyphicon glyphicon-move" ></span>
				<span ng-show="data.childMenu" class="caret" ng-click="isCollapsed = !isCollapsed"></span>
					
				<input ng-show="ind[$index + data.url]" type="text" ng-model="data.name" /> 
				
				<span ng-show="!ind[$index + data.url]" ng-click="ind[$index + data.url] = !ind[$index + data.url]" tooltip="{{data.url}}">{{data.sidebar.name}}</span>
					<span class="pull-right">
					 <a class="glyphicon glyphicon-ok" btn-checkbox btn-checkbox-true="1" btn-checkbox-false="0" ng-model="data.status" ng-class="(data.status) ? 'glyphicon glyphicon-ok text-success' : 'glyphicon glyphicon-remove text-danger'" ></a> 
					</span>
				<div ng-if="data.childMenu" as-sortable="dragControlListeners" ng-model="data.childMenu">
					<div class="menudiv childMenu" collapse="isCollapsed" ng-repeat="data in data.childMenu" ng-include="'tree_item_renderer.html'" as-sortable-item>
						<span class="caret pull-right" ng-if="data.childMenu"></span>
					</div>
				</div> 
			</script>  
			<div class="list-group" as-sortable="dragControlListeners"ng-model="reqnewsite.config.sidebar.name">
				<div class="list-group-item menudiv" ng-repeat="data in reqnewsite.config.sidebar.name" ng-include="'tree_item_renderer.html'" as-sortable-item>
				</div>
			</div>-->
	</accordion-group>
	</accordion>
	</div>
	<div class="panel-panel-default">	
	<div class="form-group panel-body" ng-click="getMapObject()">
		<div class="col-sm-12" id="map_canvas">
			<ui-gmap-google-map center="map.center" zoom="map.zoom" draggable="true" control="googleMap">
				<ui-gmap-search-box template="searchbox.template" events="searchbox.events" position="TOP_LEFT"></ui-gmap-search-box>
				<ui-gmap-marker coords="marker.coords" options="marker.options" events="marker.events" idkey="marker.id">
			</ui-gmap-google-map>
		</div>
	</div>
	</div>
	</div>
	</form>
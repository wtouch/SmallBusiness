<form class="form-horizontal" name="floorplanForm" ng-submit="floorplanForm.$valid" novalidate="novalidate">
<h3>Floor Plans</h3>
<div class="form-group">
	<div class="col-sm-offset-3 col-sm-9">
		<button type="button" class="btn btn-default btn-primary pull-right" ng-click="addToObject(floor_plan, project.floor_plan)" title="Add Floor Plans">Add Floor Plan</button>
	</div>
</div>

<div>
	<input type="hidden" required name="floor_plan" ng-model="project.floor_plan" />
	<span class="help-block" ng-show="floorplanForm.floor_plan.$dirty && floorplanForm.floor_plan.$invalid">
		<span ng-show="floorplanForm.floor_plan.$error.required" class="text-danger">Floor Plan Description is required.</span>
	</span>
</div>

<div class="form-group">
		<label  for="floorTitle" class="col-sm-2 control-label">Title *</label>
		<div class="col-sm-9">		
			<input type="text"  id="floorTitle" class="form-control" name="floorTitle" ng-model="project.floor_plan.title"    cols="20" rows="4" required />
				 <span class="text-danger" ng-show="floorplanForm.floorTitle.$error.maxlength">
				Sorry You are Exceeding the Limit</span>
					<span class="text-danger" ng-show="floorplanForm.floorTitle.$dirty && floorplanForm.floorTitle.$invalid">
				  <span ng-show="floorplanForm.floorTitle.$error.required"> title is required .</span>
		</div>
</div>

<div class="form-group">
	<label for="floor_image" class="col-sm-2 control-label">Floor Image *</label>
		<div class="col-sm-9">
			<input type="file" id="floor_image" name="floor_image" ng-file-select ng-multiple="false" accept="image/jpeg,image/png, image/gif" ng-file-change="generateThumb($files)" ng-model="floor_image">	
		<!-- This will show thumbnails & progress of images -->
			<file-preview url="floor_image"></file-preview>
			<!-- This button will show if file/s selected -->
			<button ng-show="floor_image" ng-click="upload(floor_image,path,userinfo, floor_plan.description.floor_image)" type="button">Upload</button>
			<!-- This hidden input will store image path in array after successful uploading -->
			<input type="hidden" ng-model="project.floor_plan.description.floor_image">
		</div>
</div>	

<div class="form-group"> 
	<label for="floorDescription" class="col-sm-2 control-label">Description *</label> 
		<div class="col-sm-9">
				<textarea class="form-control" id="floorDescription"  name="floorDescription" ng-model="project.floor_plan.description" cols="20" rows="4" ng-maxlength="500" required ></textarea>
			<p ng-hide="floorplanForm.floorDescription.$error.maxlength">{{ 500 - project.floor_plan.description.length + " Chars left" }}</p>
			 <span class="text-danger" ng-show="floorplanForm.floorDescription.$error.maxlength">
					Sorry You are Exceeding the Limit</span>
			<span class="text-danger" ng-show="floorplanForm.floorDescription.$dirty && floorplanForm.floorDescription.$invalid">
					<span ng-show="floorplanForm.floorDescription.$error.required"> Description is required .</span>
			</span>
		</div>
</div>	

	<button type="submit" class="col-sm-offset-2 btn btn-primary" title="Save" ng-disabled="floorplanForm.$invalid" ng-click="showFormPart('gallery',1)">Next</button>
	
<div>
	<div class="table-responsive">{{project.floor_plan}}
		<table class="table table-bordered " >
			<tr>
				<th>Floor Heading</th>
				<th>Floor Description</th>
				<th>Floor Image</th>
				<th>Remove </th>
			</tr>
			<tr ng-model="project.floor_plan">
				<td>{{project.floor_plan.title}}</td>
				<td>{{project.floor_plan.description}}</td>
				<td>
					<img ng-model="imgKey" ng-init="imgKey = key" ng-src="{{appConfig.assetPath + project.floor_plan.image.file_relative_path}}" width="150px" />
				</td> 
				<td><button ng-click="removeObject(key,project.floor_plan)">Remove</button></td>
			</tr>
		</table>
	</div>
</div>
</form>